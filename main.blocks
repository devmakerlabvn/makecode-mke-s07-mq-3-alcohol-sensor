<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="2/UmpOPTPI1KY3m^|Ag2">dataPercent</variable><variable id="9=]P|?;({(B_vRg7{gSn">dataAnalog</variable><variable id="63L+eh^?p,86m,}~4teB">wait</variable></variables><comment x="0" y="0" w="270" h="120">
Giá trị Analog của cảm biến
</comment><comment x="0" y="0" w="240" h="120">
Giá trị (%) của cảm biến
</comment><block type="every_interval" x="10" y="10"><comment pinned="false" h="80" w="160">Cho hiển thị giá trị (%) của cảm biến trên LCD mỗi 0.5s</comment><value name="interval"><shadow type="longTimePicker"><field name="ms">500</field></shadow></value><statement name="HANDLER"><block type="lcd_displayText"><value name="text"><block type="text_join"><mutation items="2"></mutation><value name="ADD0"><shadow type="text"><field name="TEXT"></field></shadow><block type="variables_get"><field name="VAR" id="2/UmpOPTPI1KY3m^|Ag2">dataPercent</field></block></value><value name="ADD1"><shadow type="text"><field name="TEXT">%  </field></shadow></value></block></value><value name="col"><shadow type="math_number_minmax"><mutation min="1" max="20" precision="0"></mutation><field name="SLIDER">9</field></shadow></value><value name="row"><shadow type="math_number_minmax"><mutation min="1" max="4" precision="0"></mutation><field name="SLIDER">2</field></shadow></value></block></statement></block><block type="device_forever" x="10" y="10"><statement name="HANDLER"><block type="variables_set"><field name="VAR" id="9=]P|?;({(B_vRg7{gSn">dataAnalog</field><comment pinned="false" h="80" w="160">Đọc giá trị Analog của cảm biến và đổi ra thang (%)</comment><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="device_get_analog_pin"><value name="name"><shadow type="analog_read_write_pin_shadow"><field name="pin">AnalogReadWritePin.P0</field></shadow><block type="analog_pin"><field name="pin">AnalogPin.P0</field></block></value></block></value><next><block type="variables_set"><field name="VAR" id="2/UmpOPTPI1KY3m^|Ag2">dataPercent</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_js_round"><field name="OP">round</field><value name="ARG0"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_map"><value name="value"><block type="variables_get"><field name="VAR" id="9=]P|?;({(B_vRg7{gSn">dataAnalog</field></block></value><value name="fromLow"><shadow type="math_number"><field name="NUM">0</field></shadow></value><value name="fromHigh"><shadow type="math_number"><field name="NUM">1023</field></shadow></value><value name="toLow"><shadow type="math_number"><field name="NUM">0</field></shadow></value><value name="toHigh"><shadow type="math_number"><field name="NUM">100</field></shadow></value></block></value></block></value><next><block type="serial_writeline"><comment pinned="false" h="80" w="160">Gửi giá trị (%) của cảm biến lên Serial</comment><value name="text"><shadow type="text"><field name="TEXT"></field></shadow><block type="variables_get"><field name="VAR" id="2/UmpOPTPI1KY3m^|Ag2">dataPercent</field></block></value><next><block type="device_pause"><comment pinned="false" h="80" w="160">Dừng 0.01s</comment><value name="pause"><shadow type="timePicker"><field name="ms">10</field></shadow></value></block></next></block></next></block></next></block></statement></block><block type="pxt-on-start" x="10" y="10"><statement name="HANDLER"><block type="serial_setbaudrate"><field name="rate">BaudRate.BaudRate115200</field><comment pinned="false" h="80" w="160">Bật cổng Serial</comment><next><block type="lcd_clearScreen"><comment pinned="false" h="80" w="160">Xóa toàn bộ nội dung trên LCD (nếu có)</comment><next><block type="variables_set"><field name="VAR" id="63L+eh^?p,86m,}~4teB">wait</field><comment pinned="false" h="80" w="160">Cho đếm ngược (60s), chờ cảm biến làm nóng xong</comment><value name="VALUE"><shadow type="math_number"><field name="NUM">60</field></shadow></value><next><block type="lcd_displayText"><value name="text"><shadow type="text"><field name="TEXT">Pls, wait in</field></shadow></value><value name="col"><shadow type="math_number_minmax"><mutation min="1" max="20" precision="0"></mutation><field name="SLIDER">1</field></shadow></value><value name="row"><shadow type="math_number_minmax"><mutation min="1" max="4" precision="0"></mutation><field name="SLIDER">1</field></shadow></value><next><block type="controls_repeat_ext"><value name="TIMES"><shadow type="math_whole_number"><field name="NUM">60</field></shadow></value><statement name="DO"><block type="lcd_displayText"><comment pinned="false" h="80" w="160">Cho hiển thị tiêu đề trước</comment><value name="text"><block type="text_join"><mutation items="2"></mutation><value name="ADD0"><shadow type="text"><field name="TEXT"></field></shadow><block type="variables_get"><field name="VAR" id="63L+eh^?p,86m,}~4teB">wait</field></block></value><value name="ADD1"><shadow type="text"><field name="TEXT">s </field></shadow></value></block></value><value name="col"><shadow type="math_number_minmax"><mutation min="1" max="20" precision="0"></mutation><field name="SLIDER">14</field></shadow></value><value name="row"><shadow type="math_number_minmax"><mutation min="1" max="4" precision="0"></mutation><field name="SLIDER">1</field></shadow></value><next><block type="device_pause"><value name="pause"><shadow type="timePicker"><field name="ms">1000</field></shadow></value><next><block type="variables_change"><field name="VAR" id="63L+eh^?p,86m,}~4teB">wait</field><value name="VALUE"><shadow type="math_number"><field name="NUM">-1</field></shadow></value></block></next></block></next></block></statement><next><block type="lcd_clearScreen"><comment pinned="false" h="80" w="160">Xóa toàn bộ nội dung trên LCD</comment><next><block type="lcd_displayText"><comment pinned="false" h="80" w="160">Cho hiển thị tiêu đề trước</comment><value name="text"><shadow type="text"><field name="TEXT">Alcohol Detector</field></shadow></value><value name="col"><shadow type="math_number_minmax"><mutation min="1" max="20" precision="0"></mutation><field name="SLIDER">1</field></shadow></value><value name="row"><shadow type="math_number_minmax"><mutation min="1" max="4" precision="0"></mutation><field name="SLIDER">1</field></shadow></value><next><block type="lcd_displayText"><value name="text"><block type="text_join"><mutation items="2"></mutation><value name="ADD0"><shadow type="text"><field name="TEXT">[MQ3] </field></shadow></value><value name="ADD1"><shadow type="text"><field name="TEXT"></field></shadow><block type="lcd_displaySymbol"><field name="sym">lcd.Symbols.sym02</field></block></value></block></value><value name="col"><shadow type="math_number_minmax"><mutation min="1" max="20" precision="0"></mutation><field name="SLIDER">1</field></shadow></value><value name="row"><shadow type="math_number_minmax"><mutation min="1" max="4" precision="0"></mutation><field name="SLIDER">2</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>